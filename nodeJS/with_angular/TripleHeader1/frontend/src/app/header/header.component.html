<!-- HEADER -->
<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-dark px-3" id="mainNav">
    <div class="container-fluid">
      <a class="navbar-brand app-title mt-2" href="/">ITCPA</a>  

      <div class="btn-box">
        <button *ngIf="navOpenBtnState" (click)="toggleNav()" class="btn btn-nav-toggle col">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>

      <div class="navbar-collapse">
        <ul class="navbar-nav mx-auto nav-menu-box">
          <div class="menus row" [ngClass]="{ 'show-menu': navOpenState }">
            <!-- Client Menus -->
            <li class="col nav-item text-uppercase">
              <mat-accordion class="nav-link">
                <mat-expansion-panel style="width: 220px" (opened)="panelOpenState = true"
                  (closed)="panelOpenState = false" (click)="closeOtherNavs($event)">
                  <mat-expansion-panel-header>
                    <mat-panel-title>Client</mat-panel-title>
                  </mat-expansion-panel-header>

                  <a *ngIf="(isLoginClient | async) == true" class="nav-link" routerLink="/add-client-proposal">Add
                    Proposal</a>
                  <a *ngIf="(isLoginClient | async) == true" class="nav-link"
                    routerLink="/client-proposal-list">Proposal List</a>
                </mat-expansion-panel>
              </mat-accordion>
            </li>

            <!-- Student Menus -->
            <li class="col nav-item text-uppercase">
              <mat-accordion class="nav-link">
                <mat-expansion-panel style="width: 220px" (opened)="panelOpenState = true"
                  (closed)="panelOpenState = false">
                  <mat-expansion-panel-header>
                    <mat-panel-title>Student</mat-panel-title>
                  </mat-expansion-panel-header>

                  <a *ngIf="(isLoginAny | async) == false" class="nav-link" routerLink="/add-student-team">Add Student
                    Team</a>
                  <a *ngIf="(isLoginStudent | async) == true" class="nav-link" routerLink="/apply-client-proposal">Apply
                    Proposal
                    <!--Application Proposal-->
                  </a>
                  <a *ngIf="(isLoginStudent | async) == true" class="nav-link"
                    routerLink="/student-application-list">Application List</a>
                  <a *ngIf="(isLoginStudent | async) == true" class="nav-link" routerLink="/student-upload-docs">Upload
                    Documents</a>
                </mat-expansion-panel>
              </mat-accordion>
            </li>

            <!-- Faculty -->
            <li class="col nav-item text-uppercase">
              <mat-accordion class="nav-link">
                <mat-expansion-panel style="width: 220px" (opened)="panelOpenState = true"
                  (closed)="panelOpenState = false">
                  <mat-expansion-panel-header>
                    <mat-panel-title>Faculty</mat-panel-title>
                  </mat-expansion-panel-header>

                  <a *ngIf="(isLoginAdviser | async) == true" class="nav-link"
                    routerLink="/adviser-assigned-project-list">Assigned Project</a>
                </mat-expansion-panel>
              </mat-accordion>
            </li>

            <!-- Program Coordinator Menus -->
            <li class="col nav-item text-uppercase">
              <mat-accordion class="nav-link">
                <mat-expansion-panel style="width: 220px" (opened)="panelOpenState = true"
                  (closed)="panelOpenState = false">
                  <mat-expansion-panel-header>
                    <mat-panel-title>Coordinator</mat-panel-title>
                  </mat-expansion-panel-header>

                  <a *ngIf="(isLoginCoordinator | async) == true" class="nav-link"
                    routerLink="/coordinator-project-list">Project List</a>
                  <a *ngIf="(isLoginCoordinator | async) == true" class="nav-link"
                    routerLink="/coordinator-team-list">Student Team List</a>
                  <a *ngIf="(isLoginCoordinator | async) == true" class="nav-link"
                    routerLink="/coordinator-schoolterm-list">Schoolterm</a>

                </mat-expansion-panel>
              </mat-accordion>
            </li>

          </div>
          <!-- <a class="nav-link" routerLink="/client-upload-docs">| UC06_UI_Ex</a> -->
        </ul>
      </div>

      <!-- credential -->
      <div class="credential">
        <li *ngIf="(isLoginAny | async) == false" class="col nav-item text-uppercase">
          <a class="credential-text nav-link text-light" routerLink="/login">Login</a>
        </li>

        <li *ngIf="(isLoginAny | async) == false" class="col nav-item text-uppercase">
          <a class="credential-text nav-link text-light" routerLink="/client-register">Register</a>
        </li>

        <li *ngIf="(isLoginAny | async) == true" class="col nav-item text-uppercase" style="margin-right: 40px;">
          <a class="credential-text nav-link text-light" (click)="logout()">Logout</a>

          
      <li *ngIf="(isLoginAny | async) == true" class="col nav-item nav-current-user-indicator">      
        <span *ngIf="(isLoginClient | async) == true" style="text-align: center; background-color: #65c18c"
          class="nav-link text-light" title="{{ loggedInUserTooltip }}">{{ loggedInUserName }}
          <small style="text-align: center" class="role-indicator"> (C) </small>
        </span>
        <span *ngIf="(isLoginStudent | async) == true" style="text-align: center; background-color: #c1f4c5"
          class="nav-link text-dark" title="{{ loggedInUserTooltip }}">{{ loggedInUserName }}
          <small style="text-align: center" class="role-indicator"> (S) </small>
        </span>
        <span *ngIf="(isLoginAdviser | async) == true" style="text-align: center; background-color: #ffbed8"
          class="nav-link text-dark" title="{{ loggedInUserTooltip }}">{{ loggedInUserName }}
          <small style="text-align: center" class="role-indicator"> (F) </small>
        </span>
        <span *ngIf="(isLoginCoordinator | async) == true" style="text-align: center; background-color: #ee246b"
          class="nav-link text-light" title="{{ loggedInUserTooltip }}">{{ loggedInUserName }}
          <small style="text-align: center" class="role-indicator"> (P) </small>
        </span>
      </li>
      </div>
    </div>
  </nav>
</header>